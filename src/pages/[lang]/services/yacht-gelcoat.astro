---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import PricingCards from '../../../components/PricingCards.astro';
import LeadForm from '../../../components/LeadForm.astro';
import FAQ from '../../../components/FAQ.astro';

import en from '../../../content/en.json';
import es from '../../../content/es.json';
import pt from '../../../content/pt.json';

export function getStaticPaths() {
  return [
    { params: { lang: 'en' }, props: { t: en } },
    { params: { lang: 'es' }, props: { t: es } },
    { params: { lang: 'pt' }, props: { t: pt } },
  ];
}

const { lang } = Astro.params;
const { t } = Astro.props;
const service = t.services.items.find((s: any) => s.id === 'yacht-gelcoat');
const wa = import.meta.env.PUBLIC_WHATSAPP_NUMBER || '351933817788';
const waUrl = `https://wa.me/${wa}?text=Hello+RestoreLab!+I'm+interested+in+Yacht+Gelcoat+Polishing.`;
---

<BaseLayout
  title={t.meta.yacht.title}
  description={t.meta.yacht.description}
  lang={lang}
  t={t}
  currentPath="/services/yacht-gelcoat"
>
  <div class="pt-24">
    <section class="relative py-24 overflow-hidden bg-gradient-hero">
      <div class="absolute inset-0 opacity-10" style="background-image: linear-gradient(rgba(42,127,255,0.3) 1px, transparent 1px), linear-gradient(90deg, rgba(42,127,255,0.3) 1px, transparent 1px); background-size: 60px 60px;"></div>

      <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
          <div>
            <a href={`/${lang}/services`} class="inline-flex items-center gap-2 text-sm text-white/40 hover:text-white mb-8 transition-colors">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
              {t.nav.services}
            </a>

            {service?.tag && (
              <span class="inline-block px-3 py-1 bg-brand-gold/10 border border-brand-gold/20 rounded-full text-brand-gold text-xs font-medium mb-6">
                {service.tag}
              </span>
            )}

            <h1 class="text-4xl md:text-5xl font-display font-bold text-white mb-6 leading-tight">
              {service?.title}
            </h1>
            <p class="text-xl text-white/60 mb-8">{service?.subtitle}</p>

            <ul class="space-y-3 mb-10">
              {service?.features.map((f: string) => (
                <li class="flex items-center gap-3 text-white/80">
                  <svg class="w-5 h-5 text-brand-accent flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M5 13l4 4L19 7" />
                  </svg>
                  {f}
                </li>
              ))}
            </ul>

            <div class="flex gap-4">
              <a href={waUrl} target="_blank" rel="noopener noreferrer" class="btn-whatsapp">{t.services.get_quote}</a>
              <a href={`/${lang}/pricing`} class="btn-secondary">{t.nav.pricing}</a>
            </div>
          </div>

          <div class="relative aspect-square max-w-md rounded-3xl bg-brand-navy/50 border border-white/10 flex items-center justify-center">
            <div class="text-center p-8">
              <svg class="w-24 h-24 text-brand-accent/30 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"/>
              </svg>
              <p class="text-white/20 text-sm">Yacht Gelcoat Polishing</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "Service",
      "serviceType": "Yacht Gelcoat Polishing",
      "provider": { "@type": "LocalBusiness", "name": "RestoreLab" },
      "areaServed": ["Cascais", "Lisboa", "Sintra", "Oeiras"],
      "description": t.meta.yacht.description
    })} />

    <PricingCards t={t} lang={lang} categoryId="yacht" />
    <FAQ t={t} />
    <LeadForm t={t} lang={lang} />
  </div>
</BaseLayout>
